#!/bin/bash

# Function to generate random numbers and store them in a string
generate_random_numbers() {
    local n=$1
    seq -f "%g" 1 $n | shuf
}

# Function to check if the numbers are sorted
check_sorted() {
    local numbers=($@)
    for ((i = 0; i < ${#numbers[@]} - 1; i++)); do
        if [ ${numbers[$i]} -gt ${numbers[$((i + 1))]} ]; then
            return 1  # Not sorted
        fi
    done
    return 0  # Sorted
}

# Function to run the push_swap program and get the result
run_push_swap() {
    local numbers=($@)
    ./push_swap "${numbers[@]}" | tr -s ' ' '\n'  # Assuming push_swap returns the solution
}

# Test for different numbers
for n in 3 5 100 500; do
    echo "Testing with $n numbers..."
    
    # Generate random numbers
    numbers=$(generate_random_numbers $n)
    echo "Generated numbers: $numbers"
    
    # Run push_swap and get the output
    output=$(run_push_swap $numbers)
    
    # Check if the result is sorted
    sorted_numbers=($output)
    if check_sorted "${sorted_numbers[@]}"; then
        echo "Test passed for $n numbers!"
    else
        echo "Test failed for $n numbers."
    fi
    echo "--------------------------------"
done
